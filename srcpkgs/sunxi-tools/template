# Template file for 'sunxi-tools'
pkgname=sunxi-tools
version=1.4
revision=1
wrksrc="$pkgname-$version"
hostmakedepends="pkg-config"
makedepends="libusb-devel"
short_desc="Tools to help hacking Allwinner AXX (aka sunxi) based devices"
maintainer="Maxim Karasev <begs@disroot.org>"
license="GPL-2.0-or-later"
homepage="https://github.com/linux-sunxi/sunxi-tools"
distfiles="$homepage/archive/v$version.tar.gz"
checksum=f80e6cd5f2d61d57d4f0e68b345e2a42aac206350be0680d233c494e3a13a7c3

do_build() {
	make CC=$CC CFLAGS="$CFLAGS" LDFLAGS="$LDFLAGS"
}
do_install() {
	for f in sunxi-fexc fex2bin bin2fex sunxi-bootinfo sunxi-fel fel-gpio sunxi-pio sunxi-nand-part; do
		vbin ${f}
	done
	cd ${DESTDIR}/usr/bin
	ln -s sunxi-fexc fexc
}
